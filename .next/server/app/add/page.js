(()=>{var e={};e.id=853,e.ids=[853],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9627:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(4988),t(2029),t(5866);var s=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(a,d);let c=["",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4988)),"/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/add/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/add/page.tsx"],m="/add/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/add/page",pathname:"/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8083:(e,a,t)=>{Promise.resolve().then(t.bind(t,1809))},6333:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6464:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},7358:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},8998:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8705:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},3855:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1215:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8378:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1809:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var s=t(326),r=t(6333),l=t(1215),i=t(6464),n=t(3855),d=t(8998),c=t(7358),o=t(8705),m=t(8378),x=t(434),u=t(7577),p=t(381),h=t(1492),y=t(6591);function g(){let[e,a]=(0,u.useState)({type:"cp",startDate:"",endDate:"",notes:"",isHalfDay:!1,halfDayType:"morning",isForecast:!1}),[t,g]=(0,u.useState)(0),[b,v]=(0,u.useState)(!1),[j,f]=(0,u.useState)(null),N=async s=>{if(s.preventDefault(),!e.startDate||!e.endDate){p.ZP.error("Veuillez saisir les dates de d\xe9but et de fin");return}if(!(0,h.Y)(e.startDate)){p.ZP.error("Format de date de d\xe9but invalide. Utilisez DD/MM/YYYY (ex: 02/01/2024)");return}if(!(0,h.Y)(e.endDate)){p.ZP.error("Format de date de fin invalide. Utilisez DD/MM/YYYY (ex: 03/01/2024)");return}let r=(0,h.XW)(e.startDate),l=(0,h.XW)(e.endDate);if(new Date(r)>new Date(l)){p.ZP.error("La date de d\xe9but ne peut pas \xeatre post\xe9rieure \xe0 la date de fin");return}if(t<=0){p.ZP.error("La p\xe9riode s\xe9lectionn\xe9e doit contenir au moins un jour ouvrable");return}if("rtt"===e.type){let e=new Date(r),a=new Date(l),s=(0,h.sj)(e,a);if(s.totalAvailable<t){let e=s.details.filter(e=>!e.canTake).map(e=>`${e.month}/${e.year}`).join(", ");p.ZP.error(`Vous ne pouvez pas prendre ${t} jours de RTT pour cette p\xe9riode. RTT non disponibles pour : ${e}`);return}}v(!0);try{let s={id:Date.now().toString(),type:e.type,startDate:r,endDate:l,workingDays:t,notes:e.notes.trim(),isHalfDay:e.isHalfDay,halfDayType:e.halfDayType,isForecast:e.isForecast,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},i=await y.U0.getLeaves();await y.U0.saveLeaves([...i,s]),p.ZP.success("Cong\xe9 ajout\xe9 avec succ\xe8s"),a({type:"cp",startDate:"",endDate:"",notes:"",isHalfDay:!1,halfDayType:"morning",isForecast:!1}),g(0)}catch(e){console.error("Erreur lors de l'ajout du cong\xe9:",e),p.ZP.error("Erreur lors de l'ajout du cong\xe9")}finally{v(!1)}},D=[{value:"cp",label:"CP - Cong\xe9s pay\xe9s"},{value:"rtt",label:"RTT - R\xe9duction du temps de travail"},{value:"cet",label:"CET - Compte \xe9pargne temps"}];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-4xl mx-auto header-mobile",children:s.jsx("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(x.default,{href:"/",className:"btn-secondary btn-mobile",children:[s.jsx(r.Z,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Retour"})]}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"header-title-mobile text-gray-900 dark:text-white",children:"➕ Ajouter un cong\xe9"}),s.jsx("p",{className:"header-subtitle-mobile text-gray-600 dark:text-gray-400",children:"Cr\xe9ez une nouvelle entr\xe9e de cong\xe9"})]})]})})})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mobile-safe-area",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCDD Informations du cong\xe9"})}),s.jsx("div",{className:"card-body",children:(0,s.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de cong\xe9 *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 touch-button",children:D.map(t=>s.jsx("button",{type:"button",onClick:()=>a({...e,type:t.value}),className:`p-4 rounded-lg border-2 transition-all duration-200 ${e.type===t.value?"border-2 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300"} ${"cp"===t.value?"bg-blue-50 border-blue-300 hover:bg-blue-100"+(e.type===t.value?" bg-blue-100 border-blue-500":""):"rtt"===t.value?"bg-green-50 border-green-300 hover:bg-green-100"+(e.type===t.value?" bg-green-100 border-green-500":""):"cet"===t.value?"bg-purple-50 border-purple-300 hover:bg-purple-100"+(e.type===t.value?" bg-purple-100 border-purple-500":""):"bg-gray-50 border-gray-300 hover:bg-gray-100"+(e.type===t.value?" bg-gray-100 border-gray-500":"")}`,children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl mb-2 ${"cp"===t.value?"text-blue-600":"rtt"===t.value?"text-green-600":"cet"===t.value?"text-purple-600":"text-gray-600"}`,children:"cp"===t.value?"\uD83C\uDFD6️":"rtt"===t.value?"\uD83D\uDCC5":"cet"===t.value?"\uD83C\uDFE5":"\uD83D\uDCCB"}),s.jsx("div",{className:`font-medium text-sm ${"cp"===t.value?"text-blue-700":"rtt"===t.value?"text-green-700":"cet"===t.value?"text-purple-700":"text-gray-700"}`,children:t.label})]})},t.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 form-mobile",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date de d\xe9but *"}),s.jsx("input",{type:"text",value:e.startDate,onChange:t=>a({...e,startDate:t.target.value}),className:"input input-mobile",required:!0,placeholder:"DD/MM/YYYY (ex: 02/01/2024)"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date de fin *"}),s.jsx("input",{type:"text",value:e.endDate,onChange:t=>a({...e,endDate:t.target.value}),className:"input input-mobile",required:!0,placeholder:"DD/MM/YYYY (ex: 03/01/2024)"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:e.isHalfDay,onChange:t=>a({...e,isHalfDay:t.target.checked}),className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Demi-journ\xe9e"})]})}),e.isHalfDay&&(0,s.jsxs)("div",{className:"mt-4 ml-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de demi-journ\xe9e"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"morning",checked:"morning"===e.halfDayType,onChange:t=>a({...e,halfDayType:t.target.value}),className:"text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Matin"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"afternoon",checked:"afternoon"===e.halfDayType,onChange:t=>a({...e,halfDayType:t.target.value}),className:"text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Apr\xe8s-midi"})]})]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"isForecast",className:"form-label",children:"Mode"}),(0,s.jsxs)("select",{id:"isForecast",value:e.isForecast?"true":"false",onChange:t=>a({...e,isForecast:"true"===t.target.value}),className:"form-select",title:"S\xe9lectionner le mode du cong\xe9",children:[s.jsx("option",{value:"false",children:"R\xe9el (cong\xe9 effectivement pris)"}),s.jsx("option",{value:"true",children:"Pr\xe9vision (cong\xe9 planifi\xe9)"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (optionnel)"}),s.jsx("textarea",{value:e.notes,onChange:t=>a({...e,notes:t.target.value}),rows:3,className:"input input-mobile",placeholder:"Ajoutez des notes ou commentaires sur ce cong\xe9..."})]}),s.jsx("div",{className:"flex justify-end",children:(0,s.jsxs)("button",{type:"submit",disabled:b||t<=0,className:"btn-primary btn-mobile-large touch-button",children:[s.jsx(l.Z,{className:"w-4 h-4 mr-2"}),b?"Ajout en cours...":"Ajouter le cong\xe9"]})})]})})]})}),(0,s.jsxs)("div",{className:"lg:col-span-1",children:[(0,s.jsxs)("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCCA R\xe9sum\xe9"})}),(0,s.jsxs)("div",{className:"card-body space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Type de cong\xe9"}),s.jsx("div",{className:"mt-1",children:D.find(a=>a.value===e.type)&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`text-lg ${"cp"===e.type?"text-blue-600":"rtt"===e.type?"text-green-600":"cet"===e.type?"text-purple-600":"text-gray-600"}`,children:"cp"===e.type?"\uD83C\uDFD6️":"rtt"===e.type?"\uD83D\uDCC5":"cet"===e.type?"\uD83C\uDFE5":"\uD83D\uDCCB"}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${"cp"===e.type?"bg-blue-100 text-blue-800 border border-blue-200":"rtt"===e.type?"bg-green-100 text-green-800 border border-green-200":"cet"===e.type?"bg-purple-100 text-purple-800 border border-purple-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:D.find(a=>a.value===e.type)?.label.split(" - ")[0]})]})})]}),e.startDate&&e.endDate&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"P\xe9riode"}),(0,s.jsxs)("div",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[(0,h.p6)((0,h.XW)(e.startDate))," - ",(0,h.p6)((0,h.XW)(e.endDate))]})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Jours ouvrables"}),(0,s.jsxs)("div",{className:"mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:["jour",t>1?"s":""]})]})]}),e.isHalfDay&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Demi-journ\xe9e"}),s.jsx("div",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:"morning"===e.halfDayType?"Matin":"Apr\xe8s-midi"})]}),e.startDate&&e.endDate&&s.jsx("div",{className:"mt-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:t>0?s.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"✅ P\xe9riode valide"}):s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"❌ P\xe9riode invalide"})})]})]}),(0,s.jsxs)("div",{className:"card mt-6",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCA1 Conseils"})}),s.jsx("div",{className:"card-body",children:(0,s.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[s.jsx("li",{children:"• Les weekends et jours f\xe9ri\xe9s ne sont pas comptabilis\xe9s"}),s.jsx("li",{children:"• Une demi-journ\xe9e compte pour 0.5 jour ouvrable"}),s.jsx("li",{children:"• Vous pouvez modifier vos cong\xe9s depuis l'historique"}),s.jsx("li",{children:"• Les notes sont optionnelles mais utiles"})]})})]})]})]})}),s.jsx("nav",{className:"mobile-nav md:hidden",children:(0,s.jsxs)("div",{className:"mobile-nav-container",children:[(0,s.jsxs)(x.default,{href:"/",className:"mobile-nav-item-inactive",children:[s.jsx(i.Z,{className:"mobile-nav-icon"}),s.jsx("span",{className:"mobile-nav-label",children:"Dashboard"})]}),(0,s.jsxs)(x.default,{href:"/add",className:"mobile-nav-item-active",children:[s.jsx(n.Z,{className:"mobile-nav-icon"}),s.jsx("span",{className:"mobile-nav-label",children:"Ajouter"})]}),(0,s.jsxs)(x.default,{href:"/history",className:"mobile-nav-item-inactive",children:[s.jsx(d.Z,{className:"mobile-nav-icon"}),s.jsx("span",{className:"mobile-nav-label",children:"Historique"})]}),(0,s.jsxs)(x.default,{href:"/calendar",className:"mobile-nav-item-inactive",children:[s.jsx(c.Z,{className:"mobile-nav-icon"}),s.jsx("span",{className:"mobile-nav-label",children:"Calendrier"})]}),(0,s.jsxs)(x.default,{href:"/carryover",className:"mobile-nav-item-inactive",children:[s.jsx(o.Z,{className:"mobile-nav-icon"}),s.jsx("span",{className:"mobile-nav-label",children:"Reliquats"})]}),(0,s.jsxs)(x.default,{href:"/settings",className:"mobile-nav-item-inactive",children:[s.jsx(m.Z,{className:"mobile-nav-icon"}),s.jsx("span",{className:"mobile-nav-label",children:"R\xe9glages"})]})]})})]})}},4988:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/add/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[78,434,442,331,492],()=>t(9627));module.exports=s})();