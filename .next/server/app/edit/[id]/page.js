(()=>{var e={};e.id=416,e.ids=[416],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7871:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(3905),t(2029),t(5866);var s=t(3191),r=t(8716),l=t(7922),i=t.n(l),d=t(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(a,n);let c=["",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3905)),"/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/edit/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/edit/[id]/page.tsx"],x="/edit/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/edit/[id]/page",pathname:"/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1541:(e,a,t)=>{Promise.resolve().then(t.bind(t,2418))},6333:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1215:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},5047:(e,a,t)=>{"use strict";var s=t(7389);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},2418:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var s=t(326),r=t(6333),l=t(1215),i=t(434),d=t(5047),n=t(7577),c=t(381),o=t(1492),x=t(6591);function m(){let e=(0,d.useParams)(),a=(0,d.useRouter)();e.id;let[t,m]=(0,n.useState)({type:"cp",startDate:"",endDate:"",notes:"",isHalfDay:!1,halfDayType:"morning"}),[u,p]=(0,n.useState)(0),[h,g]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!0),[f,v]=(0,n.useState)(null),b=async e=>{if(e.preventDefault(),!t.startDate||!t.endDate){c.ZP.error("Veuillez saisir les dates de d\xe9but et de fin");return}if(!(0,o.Y)(t.startDate)){c.ZP.error("Format de date de d\xe9but invalide. Utilisez DD/MM/YYYY (ex: 02/01/2024)");return}if(!(0,o.Y)(t.endDate)){c.ZP.error("Format de date de fin invalide. Utilisez DD/MM/YYYY (ex: 03/01/2024)");return}let s=(0,o.XW)(t.startDate),r=(0,o.XW)(t.endDate);if(new Date(s)>new Date(r)){c.ZP.error("La date de d\xe9but ne peut pas \xeatre post\xe9rieure \xe0 la date de fin");return}if(u<=0){c.ZP.error("La p\xe9riode s\xe9lectionn\xe9e doit contenir au moins un jour ouvrable");return}g(!0);try{let e={...f,type:t.type,startDate:s,endDate:r,workingDays:u,notes:t.notes.trim(),isHalfDay:t.isHalfDay,halfDayType:t.halfDayType,updatedAt:new Date().toISOString()};await x.U0.updateLeave(e),c.ZP.success("Cong\xe9 mis \xe0 jour avec succ\xe8s"),a.push("/history")}catch(e){console.error("Erreur lors de la mise \xe0 jour du cong\xe9:",e),c.ZP.error("Erreur lors de la mise \xe0 jour du cong\xe9")}finally{g(!1)}},N=[{value:"cp",label:"CP - Cong\xe9s pay\xe9s",color:"bg-blue-100 text-blue-800"},{value:"rtt",label:"RTT - R\xe9duction du temps de travail",color:"bg-green-100 text-green-800"},{value:"cet",label:"CET - Compte \xe9pargne temps",color:"bg-purple-100 text-purple-800"}];return y?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"loading-spinner h-12 w-12"})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(i.default,{href:"/history",className:"btn-secondary",children:[s.jsx(r.Z,{className:"w-4 h-4 mr-2"}),"Retour"]}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"✏️ Modifier un cong\xe9"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Modifiez les informations de ce cong\xe9"})]})]})})})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCDD Informations du cong\xe9"})}),s.jsx("div",{className:"card-body",children:(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de cong\xe9 *"}),s.jsx("select",{value:t.type,onChange:e=>m({...t,type:e.target.value}),className:"select",required:!0,children:N.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date de d\xe9but *"}),s.jsx("input",{type:"text",value:t.startDate,onChange:e=>m({...t,startDate:e.target.value}),className:"input",required:!0,placeholder:"DD/MM/YYYY (ex: 02/01/2024)"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date de fin *"}),s.jsx("input",{type:"text",value:t.endDate,onChange:e=>m({...t,endDate:e.target.value}),className:"input",required:!0,placeholder:"DD/MM/YYYY (ex: 03/01/2024)"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:t.isHalfDay,onChange:e=>m({...t,isHalfDay:e.target.checked}),className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"}),s.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Demi-journ\xe9e"})]})}),t.isHalfDay&&(0,s.jsxs)("div",{className:"mt-4 ml-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de demi-journ\xe9e"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"morning",checked:"morning"===t.halfDayType,onChange:e=>m({...t,halfDayType:e.target.value}),className:"text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Matin"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",value:"afternoon",checked:"afternoon"===t.halfDayType,onChange:e=>m({...t,halfDayType:e.target.value}),className:"text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Apr\xe8s-midi"})]})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (optionnel)"}),s.jsx("textarea",{value:t.notes,onChange:e=>m({...t,notes:e.target.value}),rows:3,className:"input",placeholder:"Ajoutez des notes ou commentaires sur ce cong\xe9..."})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx(i.default,{href:"/history",className:"btn-secondary",children:"Annuler"}),(0,s.jsxs)("button",{type:"submit",disabled:h||u<=0,className:"btn-primary",children:[s.jsx(l.Z,{className:"w-4 h-4 mr-2"}),h?"Mise \xe0 jour...":"Mettre \xe0 jour"]})]})]})})]})}),(0,s.jsxs)("div",{className:"lg:col-span-1",children:[(0,s.jsxs)("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCCA R\xe9sum\xe9"})}),(0,s.jsxs)("div",{className:"card-body space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Type de cong\xe9"}),s.jsx("div",{className:"mt-1",children:N.find(e=>e.value===t.type)&&s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.find(e=>e.value===t.type)?.color}`,children:N.find(e=>e.value===t.type)?.label.split(" - ")[0]})})]}),t.startDate&&t.endDate&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"P\xe9riode"}),(0,s.jsxs)("div",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:[(0,o.p6)((0,o.XW)(t.startDate))," - ",(0,o.p6)((0,o.XW)(t.endDate))]})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Jours ouvrables"}),(0,s.jsxs)("div",{className:"mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:["jour",u>1?"s":""]})]})]}),t.isHalfDay&&(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Demi-journ\xe9e"}),s.jsx("div",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:"morning"===t.halfDayType?"Matin":"Apr\xe8s-midi"})]}),t.startDate&&t.endDate&&s.jsx("div",{className:"mt-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:u>0?s.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"✅ P\xe9riode valide"}):s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"❌ P\xe9riode invalide"})})]})]}),f&&(0,s.jsxs)("div",{className:"card mt-6",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"\uD83D\uDCCB Informations originales"})}),(0,s.jsxs)("div",{className:"card-body space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cr\xe9\xe9 le:"}),s.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:(0,o.p6)(f.createdAt)})]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Derni\xe8re modification:"}),s.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:(0,o.p6)(f.updatedAt)})]})]})]})]})]})})]})}},3905:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/mnt/c/Users/AIFinesHerbes/AIFB/leave-tracker/src/app/edit/[id]/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[78,434,442,331,492],()=>t(7871));module.exports=s})();