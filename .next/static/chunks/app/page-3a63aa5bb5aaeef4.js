(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{234:function(e,r,t){Promise.resolve().then(t.bind(t,6117))},6117:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var s=t(7437),a=t(9397),l=t(1723),d=t(4794),n=t(2735),i=t(7689),c=t(8728),o=t(6221),x=t(1047),m=t(7648),g=t(2265),u=t(9064),h=t(9031),b=t(4569);function y(){let[e,r]=(0,g.useState)([]),[t,y]=(0,g.useState)(null),[p,j]=(0,g.useState)([]),[f,N]=(0,g.useState)([]),[k,v]=(0,g.useState)([]),[w,D]=(0,g.useState)(!0),[C,P]=(0,g.useState)(new Date().getFullYear()),[T,E]=(0,g.useState)(null),[F,q]=(0,g.useState)(null),[R,Y]=(0,g.useState)(!1),S=()=>{P(e=>e-1)},Z=()=>{P(e=>e+1)},A=()=>{P(new Date().getFullYear())};(0,g.useEffect)(()=>{U()},[]),(0,g.useEffect)(()=>{e.length>0&&U()},[C]);let U=async()=>{try{console.log("D\xe9but du chargement des donn\xe9es...");let e=[],t=null,s=[],a=[];try{e=await b.U0.getLeaves()}catch(r){console.log("Erreur lors du chargement des cong\xe9s:",r),e=[]}try{t=await b.U0.getSettings()}catch(e){console.log("Erreur lors du chargement des param\xe8tres:",e),t=null}try{s=await b.U0.getHolidays()}catch(e){console.log("Erreur lors du chargement des jours f\xe9ri\xe9s:",e),s=[]}try{a=await b.U0.getCarryoverLeaves()}catch(e){console.log("Table carryover non trouv\xe9e, utilisation d'un tableau vide:",e),a=[]}if(console.log("Donn\xe9es charg\xe9es:",{leaves:e.length,settings:t,holidays:s.length,carryovers:a.length}),r(e),y(t),N(s),v(a),t&&t.quotas)try{console.log("\uD83D\uDCC8 Calcul des donn\xe9es mensuelles s\xe9par\xe9es...");let r=(0,h.P1)(e,t.quotas,a,C);q(r),console.log("✅ Donn\xe9es mensuelles calcul\xe9es")}catch(e){console.error("❌ Erreur calcul donn\xe9es mensuelles:",e)}else console.log("⚠️ Pas de param\xe8tres ou quotas manquants");if(t&&t.quotas){console.log("Calcul des soldes avec quotas:",t.quotas);let r=(0,h.dl)(e,t.quotas,a,C);console.log("Soldes calcul\xe9s:",r),j(r)}else console.log("Pas de param\xe8tres ou quotas manquants"),j([{type:"cp",total:25,used:0,remaining:25},{type:"rtt",total:10,used:0,remaining:10}])}catch(e){console.error("Erreur lors du chargement des donn\xe9es:",e),u.ZP.error("Erreur lors du chargement des donn\xe9es"),j([{type:"cp",total:25,used:0,remaining:25},{type:"rtt",total:10,used:0,remaining:10}])}finally{D(!1)}},_=async()=>{try{await b.U0.exportDataWithUserChoice(),u.ZP.success("Export r\xe9ussi - Choisissez o\xf9 sauvegarder le fichier")}catch(e){console.error("Erreur lors de l'export:",e),u.ZP.error("Erreur lors de l'export")}},M=async()=>{try{await b.U0.importDataWithFileSelection(),await U(),u.ZP.success("Donn\xe9es import\xe9es avec succ\xe8s")}catch(e){console.error("Erreur lors de l'import:",e),e instanceof Error&&"Import annul\xe9"===e.message?(0,u.ZP)("Import annul\xe9"):u.ZP.error("Erreur lors de l'import")}};return((0,h.N4)(e,C),e.filter(e=>new Date(e.startDate).getFullYear()===C).filter(e=>["cp","rtt","cet"].includes(e.type)).sort((e,r)=>new Date(r.startDate).getTime()-new Date(e.startDate).getTime()).slice(0,5),w)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"loading-spinner h-12 w-12"})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"\uD83D\uDCC5 Gestionnaire de Cong\xe9s"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Suivi et gestion de vos cong\xe9s"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(m.default,{href:"/add",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Ajouter un cong\xe9",children:[(0,s.jsx)(a.Z,{className:"w-4 h-4 mr-2"}),"Ajouter"]}),(0,s.jsxs)(m.default,{href:"/history",className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Voir l'historique",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Historique"]}),(0,s.jsxs)(m.default,{href:"/carryover",className:"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",title:"G\xe9rer les reliquats",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Reliquats"]}),(0,s.jsxs)("button",{onClick:_,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Exporter les donn\xe9es",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 mr-2"}),"Exporter"]}),(0,s.jsxs)("button",{onClick:M,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Importer des donn\xe9es",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Importer"]}),(0,s.jsx)("button",{onClick:async()=>{try{let e=await b.U0.getSettings();if(e&&e.quotas){console.log("\uD83E\uDDF9 Nettoyage forc\xe9 des param\xe8tres...");let r=["cp","rtt","cet"],t=e.quotas.filter(e=>r.includes(e.type));t.some(e=>"cet"===e.type)||t.push({type:"cet",yearlyQuota:5});let s={...e,quotas:t};await b.U0.saveSettings(s),console.log("✅ Param\xe8tres nettoy\xe9s:",s),u.ZP.success("Param\xe8tres nettoy\xe9s !"),await U()}}catch(e){console.error("Erreur lors du nettoyage:",e),u.ZP.error("Erreur lors du nettoyage")}},className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Nettoyer les param\xe8tres (FORC\xc9)",children:"\uD83E\uDDF9 Nettoyer (FORC\xc9)"}),(0,s.jsxs)(m.default,{href:"/settings",className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Param\xe8tres",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Param\xe8tres"]})]})]})})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mobile-safe-area",children:[(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["\uD83D\uDCCA Tableau R\xe9el vs Pr\xe9visions - ",C]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Suivi mensuel des RTT et CP avec donn\xe9es r\xe9elles et pr\xe9visions"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:S,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Ann\xe9e pr\xe9c\xe9dente",children:"←"}),(0,s.jsx)("button",{onClick:A,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",title:"Ann\xe9e actuelle",children:new Date().getFullYear()}),(0,s.jsx)("button",{onClick:Z,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Ann\xe9e suivante",children:"→"})]})]})}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white bg-red-600 text-white border-r border-gray-200 dark:border-gray-700",children:C}),(0,s.jsx)("th",{colSpan:4,className:"px-4 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-blue-200 dark:bg-blue-800 border-r border-gray-200 dark:border-gray-700",children:"R\xe9el"}),(0,s.jsx)("th",{colSpan:4,className:"px-4 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-purple-200 dark:bg-purple-800 border-r border-gray-200 dark:border-gray-700",children:"Pr\xe9visions"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:"Mois"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-blue-100 dark:bg-blue-900 border-r border-gray-200 dark:border-gray-700",children:"RTT"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-blue-100 dark:bg-blue-900 border-r border-gray-200 dark:border-gray-700",children:"Cumul"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-blue-100 dark:bg-blue-900 border-r border-gray-200 dark:border-gray-700",children:"CP"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-blue-100 dark:bg-blue-900 border-r border-gray-200 dark:border-gray-700",children:"Cumul"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-purple-100 dark:bg-purple-900 border-r border-gray-200 dark:border-gray-700",children:"RTT"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-purple-100 dark:bg-purple-900 border-r border-gray-200 dark:border-gray-700",children:"Cumul"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-purple-100 dark:bg-purple-900 border-r border-gray-200 dark:border-gray-700",children:"CP"}),(0,s.jsx)("th",{className:"px-2 py-3 text-center text-sm font-medium text-gray-900 dark:text-white bg-purple-100 dark:bg-purple-900 border-r border-gray-200 dark:border-gray-700",children:"Cumul"})]})]}),(0,s.jsxs)("tbody",{children:[null==F?void 0:F.months.map((e,r)=>(0,s.jsxs)("tr",{className:0===e.month?"bg-orange-50 dark:bg-orange-900/20 border-t-2 border-orange-300 dark:border-orange-600":r%2==0?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800",children:[(0,s.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:e.monthName}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm text-yellow-600 dark:text-yellow-400 font-semibold border-r border-gray-200 dark:border-gray-700",children:e.rtt.real.taken>0?e.rtt.real.taken:""}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm font-semibold text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:e.rtt.real.remaining}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm text-green-600 dark:text-green-400 font-semibold border-r border-gray-200 dark:border-gray-700",children:e.cp.real.taken>0?e.cp.real.taken:""}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm font-semibold text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:e.cp.real.remaining}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm text-yellow-600 dark:text-yellow-400 font-semibold border-r border-gray-200 dark:border-gray-700",children:e.rtt.forecast.taken>0?e.rtt.forecast.taken:""}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm font-semibold text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:e.rtt.forecast.remaining}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm text-green-600 dark:text-green-400 font-semibold border-r border-gray-200 dark:border-gray-700",children:e.cp.forecast.taken>0?e.cp.forecast.taken:""}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm font-semibold text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:e.cp.forecast.remaining})]},r)),(null==F?void 0:F.yearlyTotals)&&(0,s.jsxs)("tr",{className:"bg-red-50 dark:bg-red-900/20",children:[(0,s.jsx)("td",{className:"px-4 py-2 text-sm font-bold text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:"Total"}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm font-bold text-red-600 dark:text-red-400 border-r border-gray-200 dark:border-gray-700",children:F.yearlyTotals.rtt.real}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm border-r border-gray-200 dark:border-gray-700"}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm font-bold text-red-600 dark:text-red-400 border-r border-gray-200 dark:border-gray-700",children:F.yearlyTotals.cp.real}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm border-r border-gray-200 dark:border-gray-700"}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm border-r border-gray-200 dark:border-gray-700"}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm border-r border-gray-200 dark:border-gray-700"}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm border-r border-gray-200 dark:border-gray-700"}),(0,s.jsx)("td",{className:"px-2 py-2 text-center text-sm border-r border-gray-200 dark:border-gray-700"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"\uD83D\uDCA1 Explication du tableau"}),(0,s.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-blue-200 dark:bg-blue-800 rounded mr-2"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"R\xe9el :"})," Donn\xe9es effectives des cong\xe9s pris"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-purple-200 dark:bg-purple-800 rounded mr-2"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Pr\xe9visions :"})," Planification des cong\xe9s \xe0 venir"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-blue-100 dark:bg-blue-900 rounded mr-2"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"RTT :"})," R\xe9duction du temps de travail"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-yellow-100 dark:bg-yellow-900 rounded mr-2"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"CP :"})," Cong\xe9s pay\xe9s"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-red-600 rounded mr-2"}),(0,s.jsxs)("span",{children:[(0,s.jsx)("strong",{children:"Total :"})," Somme des jours pris"]})]})]})]})]})})]})}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["\uD83D\uDCC8 Graphiques cumul\xe9s des cong\xe9s - ",C]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"\xc9volution mensuelle des cong\xe9s pris et restants par type"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:S,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Ann\xe9e pr\xe9c\xe9dente",children:"←"}),(0,s.jsx)("button",{onClick:A,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",title:"Ann\xe9e actuelle",children:new Date().getFullYear()}),(0,s.jsx)("button",{onClick:Z,className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Ann\xe9e suivante",children:"→"})]})]})}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"text-center p-8",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["\uD83D\uDCC8 Graphiques cumul\xe9s des cong\xe9s - ",C]}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"\xc9volution mensuelle des cong\xe9s pris et restants par type"}),(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-6",children:(0,s.jsxs)("p",{className:"text-blue-800 dark:text-blue-200",children:["Diagnostic: Cong\xe9s charg\xe9s: ",e.length," | Param\xe8tres: ",t?"Oui":"Non"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white text-center",children:"\uD83D\uDCCA RTT - Pris vs Restants"})}),(0,s.jsx)("div",{className:"card-body p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"RTT Pris"}),(0,s.jsxs)("span",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:[e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0)," jours"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-8",children:(0,s.jsx)("div",{className:"bg-red-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{width:"".concat(Math.min(100,e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0)/29*100),"%")},children:e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0)>0&&e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"RTT Restants"}),(0,s.jsxs)("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:[29-e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0)," jours"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-8",children:(0,s.jsx)("div",{className:"bg-green-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{width:"".concat(Math.min(100,(29-e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0))/29*100),"%")},children:29-e.filter(e=>new Date(e.startDate).getFullYear()===C&&"rtt"===e.type).reduce((e,r)=>e+r.workingDays,0)})})]}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total RTT"}),(0,s.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"29 jours"})]})})]})})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white text-center",children:"\uD83D\uDCCA CP/CET - Pris vs Restants"})}),(0,s.jsx)("div",{className:"card-body p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CP/CET Pris"}),(0,s.jsxs)("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:[e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0)," jours"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-8",children:(0,s.jsx)("div",{className:"bg-blue-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{width:"".concat(Math.min(100,e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0)/72.5*100),"%")},children:e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0)>0&&e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CP/CET Restants"}),(0,s.jsxs)("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:[72.5-e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0)," jours"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-8",children:(0,s.jsx)("div",{className:"bg-green-500 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",style:{width:"".concat(Math.min(100,(72.5-e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0))/72.5*100),"%")},children:72.5-e.filter(e=>new Date(e.startDate).getFullYear()===C&&("cp"===e.type||"cet"===e.type)).reduce((e,r)=>e+r.workingDays,0)})})]}),(0,s.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["CP: ",e.filter(e=>new Date(e.startDate).getFullYear()===C&&"cp"===e.type).reduce((e,r)=>e+r.workingDays,0)," jours pris"]}),(0,s.jsxs)("span",{children:["CET: ",e.filter(e=>new Date(e.startDate).getFullYear()===C&&"cet"===e.type).reduce((e,r)=>e+r.workingDays,0)," jours pris"]})]})}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total CP/CET"}),(0,s.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"72.5 jours"})]})})]})})]})]})]})]})})]}),R&&(0,s.jsx)("div",{className:"md:hidden fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>Y(!1),children:(0,s.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 rounded-t-lg p-6",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Actions rapides"}),(0,s.jsx)("button",{onClick:()=>Y(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",title:"Fermer le menu",children:"✕"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(m.default,{href:"/add",className:"action-item-mobile",onClick:()=>Y(!1),children:(0,s.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"➕"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Ajouter un cong\xe9"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cr\xe9er une nouvelle entr\xe9e"})]})}),(0,s.jsx)(m.default,{href:"/history",className:"action-item-mobile",onClick:()=>Y(!1),children:(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCB"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Historique"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Voir tous les cong\xe9s"})]})}),(0,s.jsx)(m.default,{href:"/calendar",className:"action-item-mobile",onClick:()=>Y(!1),children:(0,s.jsxs)("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCC5"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Calendrier"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vue calendrier"})]})}),(0,s.jsx)(m.default,{href:"/carryover",className:"action-item-mobile",onClick:()=>Y(!1),children:(0,s.jsxs)("div",{className:"text-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCE6"}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Reliquats"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cong\xe9s report\xe9s"})]})})]})]})}),(0,s.jsx)("nav",{className:"mobile-nav md:hidden",children:(0,s.jsxs)("div",{className:"mobile-nav-container",children:[(0,s.jsxs)(m.default,{href:"/",className:"mobile-nav-item-active",children:[(0,s.jsx)(o.Z,{className:"mobile-nav-icon"}),(0,s.jsx)("span",{className:"mobile-nav-label",children:"Dashboard"})]}),(0,s.jsxs)(m.default,{href:"/add",className:"mobile-nav-item-inactive",children:[(0,s.jsx)(a.Z,{className:"mobile-nav-icon"}),(0,s.jsx)("span",{className:"mobile-nav-label",children:"Ajouter"})]}),(0,s.jsxs)(m.default,{href:"/history",className:"mobile-nav-item-inactive",children:[(0,s.jsx)(l.Z,{className:"mobile-nav-icon"}),(0,s.jsx)("span",{className:"mobile-nav-label",children:"Historique"})]}),(0,s.jsxs)(m.default,{href:"/calendar",className:"mobile-nav-item-inactive",children:[(0,s.jsx)(x.Z,{className:"mobile-nav-icon"}),(0,s.jsx)("span",{className:"mobile-nav-label",children:"Calendrier"})]}),(0,s.jsxs)(m.default,{href:"/carryover",className:"mobile-nav-item-inactive",children:[(0,s.jsx)(d.Z,{className:"mobile-nav-icon"}),(0,s.jsx)("span",{className:"mobile-nav-label",children:"Reliquats"})]}),(0,s.jsxs)(m.default,{href:"/settings",className:"mobile-nav-item-inactive",children:[(0,s.jsx)(c.Z,{className:"mobile-nav-icon"}),(0,s.jsx)("span",{className:"mobile-nav-label",children:"R\xe9glages"})]})]})})]})}}},function(e){e.O(0,[216,980,744],function(){return e(e.s=234)}),_N_E=e.O()}]);